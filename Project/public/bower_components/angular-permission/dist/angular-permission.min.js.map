{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","reason","reject","TransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermissionFactory","TransitionProperties","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","dfd","isString","TypeError","isFunction","prototype","validatePermission","validationResult","call","RoleFactory","PermissionStore","Role","roleName","validateRole","map","hasPermissionDefinition","permission","getPermissionDefinition","all","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","RoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","$injector","Authorization","PermissionMap","PermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","$watchGroup","permissionMap","$state","get","srefState","data","permissions","authorize","e","error","message","permissionsMap","authorizePermissionMap","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","length","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMapFactory","normalizeMapProperty","redirectTo","resolveFunctionRedirect","redirectFunction","rejectedPermissionName","redirectState","state","resolveObjectRedirect","redirectObject","ReferenceError","property","resolveRedirectState","privilegeName","role","$inject","module","exports","name","decorator","enableElement","removeAttr","disableElement","attr","removeClass","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}